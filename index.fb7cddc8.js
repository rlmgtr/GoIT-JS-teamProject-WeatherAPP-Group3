function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function getSelectedUnit(){return document.querySelector('input[name="unit"]:checked').value}function fetchWeather(e){var t=getSelectedUnit(),n="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("f1a7f601f87c9d97579ef8237cc83ff1","&units=").concat(t);fetch(n).then((function(e){return e.json()})).then((function(e){var t=e.list.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{});displayForecast(t),prepareChartData(t)})).catch((function(e){console.error("Error fetching data:",e)}))}function displayForecast(e){var t=function(t){var r,i,c=e[t],o=(r=Math).min.apply(r,_toConsumableArray(c.map((function(e){return e.main.temp_min})))),l=(i=Math).max.apply(i,_toConsumableArray(c.map((function(e){return e.main.temp_max})))),d=document.createElement("div");d.classList.add("day");var s="https://openweathermap.org/img/w/".concat(c[0].weather[0].icon,".png");d.innerHTML="\n            <div>".concat(new Date(1e3*c[0].dt).toDateString(),'</div>\n            <img src="').concat(s,'" alt="').concat(c[0].weather[0].description,'">\n            <div>Min Temp: ').concat(o).concat(a,"</div>\n            <div>Max Temp: ").concat(l).concat(a,"</div>\n        "),d.addEventListener("click",(function(){displayWeatherInfo(c)})),n.appendChild(d)},n=document.getElementById("forecast"),a="metric"===getSelectedUnit()?"°C":"°F";for(var r in n.innerHTML="",e)t(r)}function displayWeatherInfo(e){var t=document.getElementById("weatherInfo"),n="metric"===getSelectedUnit()?"°C":"°F";t.innerHTML="",e.forEach((function(e){var a=document.createElement("div");a.classList.add("weather-element");var r=new Date(1e3*e.dt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),i=e.main.temp,c=e.weather[0].description,o=e.clouds.all,l=e.wind.speed,d=e.visibility/1e3,s="https://openweathermap.org/img/w/".concat(e.weather[0].icon,".png");a.innerHTML='\n           <div class="weather-time">'.concat(r,'</div>\n            <img class="weather-icon" src="').concat(s,'" alt="').concat(c,'">\n            <div class="weather-temp">Temperature: ').concat(i).concat(n,'</div>\n            <div class="weather-desc">Description: ').concat(c,'</div>\n            <div class="weather-clouds">Clouds: ').concat(o,'% <img class="icon" src="cloud-icon.png" alt="Clouds"></div>\n            <div class="weather-wind">Wind Speed: ').concat(l,' m/s <img class="icon" src="wind-icon.png" alt="Wind"></div>\n            <div class="weather-visibility">Visibility: ').concat(d,' km <img class="icon" src="visibility-icon.png" alt="Visibility"></div>\n        '),t.appendChild(a)})),t.classList.remove("hide")}function prepareChartData(e){var t=Object.keys(e),n=[],a=[],r=[],i=[];for(var c in e){var o=e[c],l=o.reduce((function(e,t){return e+t.main.temp}),0)/o.length,d=o.reduce((function(e,t){return e+t.main.humidity}),0)/o.length,s=o.reduce((function(e,t){return e+t.wind.speed}),0)/o.length,u=o.reduce((function(e,t){return e+t.main.pressure}),0)/o.length;n.push(l),a.push(d),r.push(s),i.push(u)}displayChart(t,n,a,r,i)}function displayChart(e,t,n,a,r){var i=document.getElementById("weatherChart").getContext("2d");new Chart(i,{type:"line",data:{labels:e,datasets:[{label:"Temperature (°C)",data:t,borderColor:"orange",fill:!1},{label:"Humidity (%)",data:n,borderColor:"blue",fill:!1},{label:"Wind Speed (m/s)",data:a,borderColor:"black",fill:!1},{label:"Pressure (hPa)",data:r,borderColor:"green",fill:!1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Value"}}}}})}document.getElementById("searchForm").addEventListener("submit",(function(e){e.preventDefault(),fetchWeather(document.getElementById("cityInput").value)})),document.querySelectorAll('input[name="unit"]').forEach((function(e){e.addEventListener("change",(function(){var e=document.getElementById("cityInput").value;e&&fetchWeather(e)}))})),document.getElementById("showGraphBtn").addEventListener("click",(function(){document.getElementById("weatherChart").style.display="block"})),document.getElementById("fWeather").addEventListener("click",(function(){document.getElementById("cWeather").style.display="none",document.getElementById("cDate").style.display="none",document.getElementById("fDWeather").style.display="block"})),document.getElementById("tWeather").addEventListener("click",(function(){document.getElementById("cWeather").style.display="block",document.getElementById("cDate").style.display="block",document.getElementById("fDWeather").style.display="none"}));
//# sourceMappingURL=index.fb7cddc8.js.map
