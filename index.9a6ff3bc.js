function e(e){return e&&e.__esModule?e.default:e}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".search input"),t=document.querySelector(".search button"),n=document.querySelector(".weather-icon");async function i(e){try{let t=await fetch("https://api.openweathermap.org/data/2.5/weather?&units=metric&q="+e+"&appid=31328a08c8eed36865b9c197e848a2e0");if(!t.ok)throw Error("City not found");let i=await t.json();switch(console.log(i),document.querySelector(".city").innerHTML=i.name,document.querySelector(".temp").innerHTML=Math.round(i.main.temp)+"°C",document.querySelector(".min-temp").innerHTML=Math.round(i.main.temp_min)+"°",document.querySelector(".max-temp").innerHTML=Math.round(i.main.temp_max)+"°",i.weather[0].main){case"Clouds":n.src="images/clouds.png";break;case"Clear":n.src="images/clear.png";break;case"Rain":n.src="images/rain.png";break;case"Drizzle":n.src="images/drizzle.png";break;case"Mist":n.src="images/mist.png";break;default:n.src=""}}catch(e){console.error("Error fetching weather data:",e),alert("Could not retrieve weather data. Please try again.")}}t&&e?t.addEventListener("click",()=>{i(e.value)}):console.error("Search button or search input not found")});var t={};t=JSON.parse('{"url":"https://api.openweathermap.org/data/2.5/","apiKey":"1328a08c8eed36865b9c197e848a2e0","units":"metric","metric":"celsius"}'),new class{constructor(){this.requestUrl=e(t).url,this.key=e(t).apiKey,this.bgIconUrl=e(t).bgIconUrl,this.bgKeyImg=e(t).bgKeyImg,this.units=e(t).units,this.metric=e(t).metric,this.searchQuery="",this.location="Kiev"}getData(e){return fetch(`${this.requestUrl}${e}?q=${this.location}&units=${this.units}&appid=${this.key}`).then(e=>e.ok?e.json():Promise.reject("Something went wrong"))}fetchImages(){return fetch(`${this.bgIconUrl}${this.location}&page=1&per_page=12&key=${this.bgKeyImg}`).then(e=>e.ok?e.json():Promise.reject("Picture not found"))}set query(e){this.location=e}}({}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("searchForm");function t(){let e=document.querySelector('input[name="unit"]:checked');return e?e.value:"metric"}async function n(e){let n=t(),i=`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=f1a7f601f87c9d97579ef8237cc83ff1&units=${n}`;try{let e=await fetch(i);if(!e.ok)throw Error("City not found");let n=(await e.json()).list.reduce((e,t)=>{let n=t.dt_txt.split(" ")[0];return e[n]||(e[n]=[]),e[n].push(t),e},{});(function(e){let n=document.getElementById("forecast"),i="metric"===t()?"°C":"°F";for(let a in n.innerHTML="",e){let r=e[a],d=Math.min(...r.map(e=>e.main.temp_min)),c=Math.max(...r.map(e=>e.main.temp_max)),l=document.createElement("div");l.classList.add("day");let o=`https://openweathermap.org/img/w/${r[0].weather[0].icon}.png`;l.innerHTML=`
                <div>${new Date(1e3*r[0].dt).toDateString()}</div>
                <img src="${o}" alt="${r[0].weather[0].description}">
                <div>Min Temp: ${d}${i}</div>
                <div>Max Temp: ${c}${i}</div>
            `,l.addEventListener("click",function(){(function(e){let n=document.getElementById("weatherInfo"),i="metric"===t()?"°C":"°F";n.innerHTML="",e.forEach(e=>{let t=document.createElement("div");t.classList.add("weather-element");let a=new Date(1e3*e.dt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),r=e.main.temp,d=e.weather[0].description,c=e.clouds.all,l=e.wind.speed,o=e.visibility/1e3,s=`https://openweathermap.org/img/w/${e.weather[0].icon}.png`;t.innerHTML=`
                <div class="weather-time">${a}</div>
                <img class="weather-icon" src="${s}" alt="${d}">
                <div class="weather-temp">Temperature: ${r}${i}</div>
                <div class="weather-desc">Description: ${d}</div>
                <div class="weather-clouds">Clouds: ${c}% <img class="icon" src="cloud-icon.png" alt="Clouds"></div>
                <div class="weather-wind">Wind Speed: ${l} m/s <img class="icon" src="wind-icon.png" alt="Wind"></div>
                <div class="weather-visibility">Visibility: ${o} km <img class="icon" src="visibility-icon.png" alt="Visibility"></div>
            `,n.appendChild(t)}),n.classList.remove("hide")})(r)}),n.appendChild(l)}})(n),function(e){let t=Object.keys(e),n=[],i=[],a=[],r=[];for(let t in e){let d=e[t],c=d.reduce((e,t)=>e+t.main.temp,0)/d.length,l=d.reduce((e,t)=>e+t.main.humidity,0)/d.length,o=d.reduce((e,t)=>e+t.wind.speed,0)/d.length,s=d.reduce((e,t)=>e+t.main.pressure,0)/d.length;n.push(c),i.push(l),a.push(o),r.push(s)}new Chart(document.getElementById("weatherChart").getContext("2d"),{type:"line",data:{labels:t,datasets:[{label:"Temperature (°C)",data:n,borderColor:"orange",fill:!1},{label:"Humidity (%)",data:i,borderColor:"blue",fill:!1},{label:"Wind Speed (m/s)",data:a,borderColor:"black",fill:!1},{label:"Pressure (hPa)",data:r,borderColor:"green",fill:!1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Value"}}}}})}(n)}catch(e){console.error("Error fetching data:",e),alert("Could not retrieve weather data. Please try again.")}}e&&e.addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("cityInput").value;t&&n(t)}),document.querySelectorAll('input[name="unit"]').forEach(e=>{e.addEventListener("change",function(){let e=document.getElementById("cityInput").value;e&&n(e)})}),document.getElementById("fWeather").addEventListener("click",function(){document.getElementById("cWeather").style.display="none",document.getElementById("cDate").style.display="none",document.getElementById("fDWeather").style.display="block"}),document.getElementById("tWeather").addEventListener("click",function(){document.getElementById("cWeather").style.display="block",document.getElementById("cDate").style.display="block",document.getElementById("fDWeather").style.display="none"}),document.getElementById("showGraphBtn").addEventListener("click",function(){document.getElementById("fDChart").hidden=!1,document.getElementById("weatherChart").style.display="block",document.getElementById("showGraphBtn").style.display="none",document.getElementById("hideGraphBtn").style.display="block"}),document.getElementById("hideGraphBtn").addEventListener("click",function(){document.getElementById("fDChart").hidden=!0,document.getElementById("weatherChart").style.display="none",document.getElementById("showGraphBtn").style.display="block",document.getElementById("hideGraphBtn").style.display="none"})});
//# sourceMappingURL=index.9a6ff3bc.js.map
