function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function getSelectedUnit(){return document.querySelector('input[name="unit"]:checked').value}function fetchWeather(e){var t=getSelectedUnit(),n="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("f1a7f601f87c9d97579ef8237cc83ff1","&units=").concat(t);fetch(n).then((function(e){return e.json()})).then((function(e){var t=e.list.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{});displayForecast(t),prepareChartData(t)})).catch((function(e){console.error("Error fetching data:",e)}))}function displayForecast(e){var t=function(t){var a,i,o=e[t],c=(a=Math).min.apply(a,_toConsumableArray(o.map((function(e){return e.main.temp_min})))),d=(i=Math).max.apply(i,_toConsumableArray(o.map((function(e){return e.main.temp_max})))),l=document.createElement("div");l.classList.add("day");var u="https://openweathermap.org/img/w/".concat(o[0].weather[0].icon,".png");l.innerHTML="\n            <div>".concat(new Date(1e3*o[0].dt).toDateString(),'</div>\n            <img src="').concat(u,'" alt="').concat(o[0].weather[0].description,'">\n            <div>Min Temp: ').concat(c).concat(r,"</div>\n            <div>Max Temp: ").concat(d).concat(r,"</div>\n        "),l.addEventListener("click",(function(){displayWeatherInfo(o)})),n.appendChild(l)},n=document.getElementById("forecast"),r="metric"===getSelectedUnit()?"°C":"°F";for(var a in n.innerHTML="",e)t(a)}function displayWeatherInfo(e){var t=document.getElementById("weatherInfo"),n="metric"===getSelectedUnit()?"°C":"°F";t.innerHTML="",e.forEach((function(e){var r=document.createElement("div"),a=new Date(1e3*e.dt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),i=e.main.temp,o=e.weather[0].description,c=e.clouds.all,d=e.wind.speed,l=e.visibility/1e3,u="https://openweathermap.org/img/w/".concat(e.weather[0].icon,".png");r.innerHTML="\n            <div>".concat(a,'</div>\n            <img src="').concat(u,'" alt="').concat(o,'">\n            <div>Temperature: ').concat(i).concat(n,"</div>\n            <div>Description: ").concat(o,"</div>\n            <div>Clouds: ").concat(c,'% <img src="cloud-icon.png" alt="Clouds"></div>\n            <div>Wind Speed: ').concat(d,' m/s <img src="wind-icon.png" alt="Wind"></div>\n            <div>Visibility: ').concat(l,' km <img src="visibility-icon.png" alt="Visibility"></div>\n        '),t.appendChild(r)})),t.classList.remove("hide")}function prepareChartData(e){var t=Object.keys(e),n=[],r=[],a=[],i=[];for(var o in e){var c=e[o],d=c.reduce((function(e,t){return e+t.main.temp}),0)/c.length,l=c.reduce((function(e,t){return e+t.main.humidity}),0)/c.length,u=c.reduce((function(e,t){return e+t.wind.speed}),0)/c.length,s=c.reduce((function(e,t){return e+t.main.pressure}),0)/c.length;n.push(d),r.push(l),a.push(u),i.push(s)}displayChart(t,n,r,a,i)}function displayChart(e,t,n,r,a){var i=document.getElementById("weatherChart").getContext("2d");new Chart(i,{type:"line",data:{labels:e,datasets:[{label:"Temperature (°C)",data:t,borderColor:"orange",fill:!1},{label:"Humidity (%)",data:n,borderColor:"blue",fill:!1},{label:"Wind Speed (m/s)",data:r,borderColor:"black",fill:!1},{label:"Pressure (hPa)",data:a,borderColor:"green",fill:!1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Value"}}}}})}document.getElementById("searchForm").addEventListener("submit",(function(e){e.preventDefault(),fetchWeather(document.getElementById("cityInput").value)})),document.querySelectorAll('input[name="unit"]').forEach((function(e){e.addEventListener("change",(function(){var e=document.getElementById("cityInput").value;e&&fetchWeather(e)}))})),document.getElementById("showGraphBtn").addEventListener("click",(function(){document.getElementById("weatherChart").style.display="block"})),document.getElementById("fWeather").addEventListener("click",(function(){document.getElementById("cWeather").style.display="none",document.getElementById("cDate").style.display="none",document.getElementById("fDWeather").style.display="block"})),document.getElementById("tWeather").addEventListener("click",(function(){document.getElementById("cWeather").style.display="block",document.getElementById("cDate").style.display="block",document.getElementById("fDWeather").style.display="none"}));
//# sourceMappingURL=index.ed121a5b.js.map
